Caroline.John <- {}

Caroline.John.Parser <- Caroline.Parser([

	10, 32, 33, 34, 35, 36, 37, 39, 40, 41, 44, 46, 48, 49, 50, 51, 52, 53, 54, 55, 56, 57, 58, 59, 63, 65, 66, 67, 68, 69, 70, 71, 72, 73, 74, 75, 76, 77, 78, 79, 80, 81, 82, 83, 84, 85, 86, 87, 88, 89, 90, 97, 98, 99, 100, 101, 102, 103, 104, 105, 106, 107, 108, 109, 110, 111, 112, 113, 114, 115, 116, 117, 118, 119, 120, 121, 122, 126, -128, -127, -126, -119, -115, -111, -109, -102, -100, -95, -93, -92, -91, -90, -87, -84, -83, -79, -77, -71, -70, -68, -67, -65, -62, -61, -30
])

Caroline.John.Composer <- Caroline.Composer([

	{ ph = "-a", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-a", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },

	{ ph = "-e", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-e", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },

	{ ph = "-i", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-i", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },

	{ ph = "-o", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-o", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },

	{ ph = "-u", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-u", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },

	{ ph = "a-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "e-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "i-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "o-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "u-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },

	{ ph = "-p", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-b", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-t", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-d", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-k", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-g", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-ʧ", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-f", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-s", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-x", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-y", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-w", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-l", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-r", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-ɾ", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-m", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-n", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "-ɲ", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },

	{ ph = "p-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "b-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "t-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "d-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "k-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "g-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "ʧ-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "f-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "s-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "x-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "y-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "w-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "l-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "r-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "ɾ-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "m-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "n-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 },
	{ ph = "ɲ-", f = "caroline/es-es/john/531afc6a381ccb29f59aba7db0b3d07a.wav", d = 0.032 }
])

Caroline.John.Chat <-
{
	function OnGameEvent_player_say (event)
	{
		local Pl = GetPlayerFromUserID(event.userid)

		# Ignora los mensajes de jugadores muertos
		if (Pl.IsDead()) return

		# Obtiene del mensaje, el modelo del autor
		# local model = Pl.GetModelName()

		# Ignora los mensajes de otros autores
		# if (model != "models/survivors/survivor_gambler.mdl") return

		# Obtiene el idioma del mensaje (funcional con mapas que escriben en el chat)
		local lang = Convars.GetClientConvarValue("cl_language", (IsPlayerABot(Pl) ? GetListenServerHost() : Pl).GetEntityIndex())

		# Ignora los mensajes en otros idiomas
		if (lang != "spanish") return

		foreach (value in Caroline.John.Parser.GetCharacters(Caroline.John.Parser.CollectCharacterIndex(event.text)))
		{
			print(value)

			print(" ")
		}

		print("\n")

		foreach (sound in Caroline.Speech("Hello World!", Caroline.John.Parser))
		{
			print(sound)

			print(" ")
		}

		print("\n")
	}
}

__CollectEventCallbacks(Caroline.John.Chat, "OnGameEvent_", "GameEventCallbacks", RegisterScriptGameEventListener)
